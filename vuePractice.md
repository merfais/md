# 使用vue时，个人觉得比较好的实践

不一定总是正确的，也不一定是普适的，都是个人实践所得，有些现在觉得很正确的东西，可能随着经验的加深会变成错误，也可能会更加笃定。错误的我随时更新。
还有一些可能是很主观的东西，那么认同的人则会觉得倍儿有道理，不认同的人则觉得不可理喻，这无可厚非，也无需争个对错。

很多时候考虑问题都要加上一定的度，这个度一般考虑的是复杂的情况，甚至是更复杂的情况，而不是简单的场景，简单到demo级别。这个度一般是上万的代码行数，几十几百个文件，5人以上合作的项目中。

以下的经验可能你已经知晓（认同），也可能你不知晓（认同），知晓的请不要觉得是废话，因为确实存在一定的经验不足的人，也存在写了也好些年代码了（甚至超过5年），依旧生产shi的人，从来不总结经验教训的人。

## 1. data的return前面不要写处理逻辑

```javascript
export default {
  data() {
    // 这里不要写处理逻辑
    return {}
  }
}
```
**解释**：data是一个函数，因此，当然可以在函数返回前做任何逻辑处理，这是js语法，但为什么不要写逻辑呢，因为不利于排查问题，这里的逻辑执行时机不够直观。

data函数中的逻辑与watch immediate, beforeCreate hook, created hook, beforeMount hook, mounted hook, beforeUpdate hook 等过程的执行的先后顺序大多人要经过测试才知道，并不会熟记于心，
这导致并不能只通过看代码就可以分析代码的逻辑，也就是时序干扰。data一般会兼顾数据初始化的逻辑，在一些hook中也可以有初始化逻辑，很多人也这么做了，
由于没有将时序关系铭记于心，当出现问题分析代码的时候，就必须要运行程序测试才能知道执行结果。因此应该尽量收敛这些逻辑到一个地方，达到一定的内聚性，这样就能快速定位到问题。
